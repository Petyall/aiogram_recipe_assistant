# Recipe assistant

Этот бот создан с использованием библиотеки [aiogram](https://aiogram.dev/) и предназначен для управления рецептами. С помощью бота пользователи могут добавлять новые рецепты, просматривать существующие и редактировать их. Также бот поддерживает добавление новых категорий и пользователей (доступно только для администраторов).

## Использованные технологии

- [Aiogram](https://aiogram.dev/)
- [SQLite](https://www.sqlite.org/)
- [SQLAlchemy](https://www.sqlalchemy.org/)
- [Alembic](https://alembic.sqlalchemy.org/en/latest/)
- [Pydantic](https://docs.pydantic.dev/latest/)

## Установка

1. Клонирование репозитория:
    ```bash
    git clone https://github.com/Petyall/aiogram_cook.git .
    ```

2. Создание и активация виртуального окружения:
    ```bash
    python3 -m venv venv
    source venv/bin/activate
    ```

3. Установка необходимых зависимостей:
    ```bash
    pip3 install -r requirements.txt
    ```

4. Инициализация .env файла (пример данных изображен в файле example.env):
    ```bash
    touch .env
    ```

5. Запуск локального сервера:
    ```bash
    python3 main.py
    ```

## Функциональность

### Команды

- `/add_recipe` - Добавить новый рецепт.
- `/get_recipe` - Получить рецепт из базы данных.
- `/add_user` - Добавить нового пользователя (доступно только для администратора).
- `/add_category` - Добавить новую категорию (доступно только для администратора).

## Обработчики

### Добавление рецепта

1. `/add_recipe` - Начало процесса добавления рецепта.
2. Выбор категории.
3. Ввод названия рецепта.
4. Ввод ингредиентов.
5. Ввод шагов.
6. Сохранение рецепта в базе данных.

### Получение рецепта

1. `/get_recipe` - Начало процесса получения рецепта.
2. Выбор категории.
3. Выбор рецепта.
4. Отображение рецепта.

### Редактирование рецепта

1. Выбор поля для редактирования.
2. Ввод нового значения.
3. Подтверждение редактирования.

## Middleware

- `WhitelistMiddleware` - Middleware для проверки наличия пользователя в white-листе.